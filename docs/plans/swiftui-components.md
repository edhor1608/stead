# SwiftUI Component Specifications

**Created:** 2026-02-05
**Status:** Draft
**References:** design-language.md, control-room-ux.md, ffi-comparison.md

Production-ready SwiftUI component specs for the stead Control Room. Every value is concrete -- no "adjust as needed."

---

## Data Types (from Rust via UniFFI)

These Swift types arrive from the FFI bridge. Views consume them directly.

```swift
// Generated by UniFFI from stead-core
struct ContractSummary: Identifiable {
    let id: String          // Short ID, e.g. "lx4f-8k2"
    let task: String        // Human description
    let verification: String
    let status: ContractStatusFFI
    let createdAt: String   // ISO 8601
    let completedAt: String?
    let output: String?
    let projectName: String?
}

enum ContractStatusFFI: String {
    case pending, running, passed, failed
}

struct SessionSummaryFFI: Identifiable {
    let id: String          // e.g. "ses_abc123"
    let cliType: CliTypeFFI
    let title: String?
    let projectPath: String?
    let startedAt: String   // ISO 8601
    let lastActiveAt: String?
    let model: String?
    let costUsd: Double?
}

enum CliTypeFFI: String {
    case claudeCode, codexCli, openCode, unknown
}
```

---

## App State

Single `@Observable` root state. All views derive from this.

```swift
import SwiftUI

@Observable
final class SteadAppState {
    var contracts: [ContractSummary] = []
    var sessions: [SessionSummaryFFI] = []
    var lastInteraction: Date = .now
    var focusModeEnabled: Bool = false

    // MARK: - Derived

    var needsDecision: [ContractSummary] {
        contracts.filter { $0.status == .failed }
            .sorted { $0.createdAtDate < $1.createdAtDate }
    }

    var completed: [ContractSummary] {
        contracts.filter { $0.status == .passed }
            .sorted { $0.createdAtDate < $1.createdAtDate }
    }

    var running: [ContractSummary] {
        contracts.filter { $0.status == .running }
            .sorted { $0.createdAtDate < $1.createdAtDate }
    }

    var queued: [ContractSummary] {
        contracts.filter { $0.status == .pending }
            .sorted { $0.createdAtDate < $1.createdAtDate }
    }

    var attentionCount: Int {
        needsDecision.count + completed.count
    }

    var hasDecisions: Bool {
        !needsDecision.isEmpty
    }
}
```

---

## 1. StatusBadge

Colored pill with SF Symbol and text label. The atomic unit of state display.

```swift
struct StatusBadge: View {
    let status: ContractStatusFFI

    var body: some View {
        Label(status.label, systemImage: status.symbol)
            .font(.caption)
            .fontWeight(.medium)
            .symbolRenderingMode(.hierarchical)
            .foregroundStyle(status.color)
            .padding(.horizontal, 6)
            .padding(.vertical, 2)
            .background(status.color.opacity(0.12), in: Capsule())
    }
}

// MARK: - Status Mappings

extension ContractStatusFFI {
    var label: String {
        switch self {
        case .pending:  "Queued"
        case .running:  "Running"
        case .passed:   "Completed"
        case .failed:   "Needs Decision"
        }
    }

    var symbol: String {
        switch self {
        case .pending:  "circle.dashed"
        case .running:  "circle.dotted.and.circle"
        case .passed:   "checkmark.circle.fill"
        case .failed:   "exclamationmark.circle.fill"
        }
    }

    var color: Color {
        switch self {
        case .pending:  .secondary
        case .running:  .secondary
        case .passed:   .green
        case .failed:   .red
        }
    }

    var attentionTier: Int {
        switch self {
        case .failed:   1  // Needs Decision
        case .passed:   3  // Completed
        case .running:  4
        case .pending:  5
        }
    }
}
```

**Specs:**
- Font: `.caption` (11pt), weight `.medium`
- Pill padding: 6pt horizontal, 2pt vertical
- Background: state color at 12% opacity, `Capsule` shape
- Symbol rendering: `.hierarchical` -- primary color fills, depth automatic
- Symbol size: inherits from font (11pt in caption context)

---

## 2. ContractCard

One contract row. Compact, scannable. 36pt height target.

```swift
struct ContractCard: View {
    let contract: ContractSummary
    @State private var justChanged = false

    var body: some View {
        HStack(alignment: .top, spacing: 8) {
            // State icon
            Image(systemName: contract.status.symbol)
                .font(.system(size: 14))
                .symbolRenderingMode(.hierarchical)
                .foregroundStyle(contract.status.color)
                .frame(width: 18, alignment: .center)
                .scaleEffect(justChanged ? 1.15 : 1.0)
                .animation(.easeOut(duration: 0.3), value: justChanged)

            // Content
            VStack(alignment: .leading, spacing: 2) {
                // Primary line: task description
                Text(contract.task)
                    .font(.body)
                    .foregroundStyle(.primary)
                    .lineLimit(1)
                    .truncationMode(.tail)

                // Secondary line: project + ID
                HStack(spacing: 4) {
                    if let project = contract.projectName {
                        Text(project)
                            .foregroundStyle(.secondary)
                    }

                    if contract.projectName != nil {
                        Text("·")
                            .foregroundStyle(.tertiary)
                    }

                    Text(contract.id)
                        .font(.system(.caption, design: .monospaced).weight(.medium))
                        .foregroundStyle(.secondary)
                }
                .font(.caption)
            }

            Spacer(minLength: 4)

            // Time ago
            Text(contract.relativeTime)
                .font(.caption)
                .foregroundStyle(.tertiary)
                .monospacedDigit()
        }
        .padding(.horizontal, 8)
        .padding(.vertical, 6)
        .frame(minHeight: 36)
        .contentShape(Rectangle())
        .background(
            contract.status == .failed
                ? Color.red.opacity(0.06)
                : Color.clear
        )
        .onChange(of: contract.status) {
            justChanged = true
            DispatchQueue.main.asyncAfter(deadline: .now() + 0.4) {
                justChanged = false
            }
        }
    }
}

// MARK: - Time Helpers

extension ContractSummary {
    var createdAtDate: Date {
        ISO8601DateFormatter().date(from: createdAt) ?? .distantPast
    }

    var relativeTime: String {
        let formatter = RelativeDateTimeFormatter()
        formatter.unitsStyle = .abbreviated
        return formatter.localizedString(for: createdAtDate, relativeTo: .now)
    }
}
```

**Specs:**
- Row height: minimum 36pt (compact density)
- Icon: 14pt SF Symbol, 18pt frame width, state-colored
- Icon pulse: scale 1.0 -> 1.15 -> 1.0 on state change, `.easeOut(duration: 0.3)`
- Task text: `.body` (13pt), primary color, single line, tail truncation
- Project name: `.caption` (11pt), secondary color
- Contract ID: `.caption` monospaced, medium weight, secondary color
- Separator between project and ID: `·` in tertiary color
- Time: `.caption`, tertiary color, `.monospacedDigit()` for stable width
- Horizontal padding: 8pt. Vertical padding: 6pt
- Needs Decision rows: red background at 6% opacity
- `contentShape(Rectangle())` ensures full-row tap target
- Spacing: 8pt between icon and content, 2pt between text lines, 4pt between project/ID

---

## 3. ContractListView

Contracts grouped by attention priority. The primary view of the full window.

```swift
struct ContractListView: View {
    @Environment(SteadAppState.self) private var state
    @State private var selection: String?

    var body: some View {
        List(selection: $selection) {
            // Tier 1: Needs Decision
            if !state.needsDecision.isEmpty {
                contractSection(
                    title: "Needs Decision",
                    contracts: state.needsDecision,
                    tint: .red
                )
            }

            // Tier 3: Completed
            if !state.completed.isEmpty {
                contractSection(
                    title: "Completed",
                    contracts: state.completed,
                    tint: .green
                )
            }

            // Tier 4: Running
            if !state.running.isEmpty {
                contractSection(
                    title: "Running",
                    contracts: state.running,
                    tint: .secondary
                )
            }

            // Tier 5: Queued
            if !state.queued.isEmpty {
                contractSection(
                    title: "Queued",
                    contracts: state.queued,
                    tint: .secondary
                )
            }
        }
        .listStyle(.sidebar)
        .animation(
            .spring(response: 0.35, dampingFraction: 0.85),
            value: state.contracts.map(\.status)
        )
    }

    // MARK: - Section Builder

    @ViewBuilder
    private func contractSection(
        title: String,
        contracts: [ContractSummary],
        tint: Color
    ) -> some View {
        Section {
            ForEach(contracts) { contract in
                ContractCard(contract: contract)
                    .tag(contract.id)
                    .transition(
                        .asymmetric(
                            insertion: .opacity.combined(with: .move(edge: .top)),
                            removal: .opacity.combined(with: .move(edge: .leading))
                        )
                    )
            }
        } header: {
            HStack(spacing: 6) {
                Text(title)
                    .font(.body.weight(.medium))
                    .foregroundStyle(.primary)

                Text("\(contracts.count)")
                    .font(.caption.weight(.bold))
                    .foregroundStyle(tint)
                    .padding(.horizontal, 5)
                    .padding(.vertical, 1)
                    .background(tint.opacity(0.15), in: Capsule())
            }
            .padding(.vertical, 4)
        }
    }
}
```

**Specs:**
- List style: `.sidebar` -- native macOS sidebar appearance
- Sections only render when non-empty. Empty groups are invisible.
- Section header: `.body.weight(.medium)` (13pt medium) for title
- Count badge: `.caption.weight(.bold)` (11pt bold) in state tint color, 15% opacity capsule background
- Count badge padding: 5pt horizontal, 1pt vertical
- Section header vertical padding: 4pt
- Section spacing between header and content: 6pt (HStack spacing)
- List animation: `.spring(response: 0.35, dampingFraction: 0.85)` on status changes
- Row insertion: fade + slide from top
- Row removal: fade + slide to leading edge
- Selection: standard macOS list selection via `$selection` binding

---

## 4. SessionRow

One AI session row. Same visual rhythm as ContractCard for consistency.

```swift
struct SessionRow: View {
    let session: SessionSummaryFFI

    var body: some View {
        HStack(alignment: .top, spacing: 8) {
            // CLI type icon
            Image(systemName: session.cliType.symbol)
                .font(.system(size: 14))
                .foregroundStyle(session.cliType.color)
                .frame(width: 18, alignment: .center)

            // Content
            VStack(alignment: .leading, spacing: 2) {
                // Primary: title or fallback
                Text(session.title ?? "Untitled session")
                    .font(.body)
                    .foregroundStyle(session.title != nil ? .primary : .secondary)
                    .lineLimit(1)
                    .truncationMode(.tail)

                // Secondary: CLI name + session ID
                HStack(spacing: 4) {
                    Text(session.cliType.displayName)
                        .foregroundStyle(.secondary)

                    Text("·")
                        .foregroundStyle(.tertiary)

                    Text(session.id)
                        .font(.system(.caption, design: .monospaced).weight(.medium))
                        .foregroundStyle(.secondary)
                }
                .font(.caption)
            }

            Spacer(minLength: 4)

            // Time ago
            Text(session.relativeTime)
                .font(.caption)
                .foregroundStyle(.tertiary)
                .monospacedDigit()
        }
        .padding(.horizontal, 8)
        .padding(.vertical, 6)
        .frame(minHeight: 36)
        .contentShape(Rectangle())
    }
}

// MARK: - CLI Type Mappings

extension CliTypeFFI {
    var symbol: String {
        switch self {
        case .claudeCode: "terminal"
        case .codexCli:   "chevron.left.forwardslash.chevron.right"
        case .openCode:   "curlybraces"
        case .unknown:    "questionmark.circle"
        }
    }

    var displayName: String {
        switch self {
        case .claudeCode: "Claude Code"
        case .codexCli:   "Codex CLI"
        case .openCode:   "OpenCode"
        case .unknown:    "Unknown"
        }
    }

    var color: Color {
        switch self {
        case .claudeCode: .orange
        case .codexCli:   .blue
        case .openCode:   .purple
        case .unknown:    .secondary
        }
    }
}

extension SessionSummaryFFI {
    var startedAtDate: Date {
        ISO8601DateFormatter().date(from: startedAt) ?? .distantPast
    }

    var relativeTime: String {
        let formatter = RelativeDateTimeFormatter()
        formatter.unitsStyle = .abbreviated
        return formatter.localizedString(for: startedAtDate, relativeTo: .now)
    }
}
```

**Specs:**
- Identical spatial layout to ContractCard: 36pt min height, 8pt horizontal padding, 6pt vertical
- CLI icon: 14pt, 18pt frame width -- same slot as status icon in ContractCard
- CLI colors: Claude Code = `.orange`, Codex CLI = `.blue`, OpenCode = `.purple`, Unknown = `.secondary`
- CLI symbols: `terminal` (Claude Code), `chevron.left.forwardslash.chevron.right` (Codex), `curlybraces` (OpenCode)
- Title: `.body`, primary. Falls back to "Untitled session" in secondary.
- Session ID: `.caption` monospaced, medium weight
- Spacing mirrors ContractCard exactly for visual alignment in mixed views

---

## 5. SessionListView

Sessions filterable by CLI type. Grouped by project.

```swift
struct SessionListView: View {
    @Environment(SteadAppState.self) private var state
    @State private var selectedCli: CliTypeFFI?
    @State private var selection: String?

    private var filteredSessions: [SessionSummaryFFI] {
        guard let cli = selectedCli else { return state.sessions }
        return state.sessions.filter { $0.cliType == cli }
    }

    private var groupedByProject: [(String, [SessionSummaryFFI])] {
        Dictionary(grouping: filteredSessions) { session in
            session.projectPath ?? "Unknown Project"
        }
        .sorted { $0.key < $1.key }
    }

    var body: some View {
        VStack(spacing: 0) {
            // Filter bar
            cliFilterBar
                .padding(.horizontal, 12)
                .padding(.vertical, 8)

            Divider()

            // Session list
            List(selection: $selection) {
                ForEach(groupedByProject, id: \.0) { project, sessions in
                    Section {
                        ForEach(sessions) { session in
                            SessionRow(session: session)
                                .tag(session.id)
                        }
                    } header: {
                        HStack(spacing: 6) {
                            Image(systemName: "folder")
                                .font(.caption)
                                .foregroundStyle(.secondary)

                            Text(projectDisplayName(project))
                                .font(.body.weight(.medium))
                                .foregroundStyle(.primary)

                            Text("\(sessions.count)")
                                .font(.caption.weight(.bold))
                                .foregroundStyle(.secondary)
                                .padding(.horizontal, 5)
                                .padding(.vertical, 1)
                                .background(
                                    Color.secondary.opacity(0.15),
                                    in: Capsule()
                                )
                        }
                        .padding(.vertical, 4)
                    }
                }
            }
            .listStyle(.sidebar)
        }
    }

    // MARK: - Filter Bar

    private var cliFilterBar: some View {
        HStack(spacing: 6) {
            filterChip(label: "All", cli: nil)
            filterChip(label: "Claude Code", cli: .claudeCode)
            filterChip(label: "Codex", cli: .codexCli)
            filterChip(label: "OpenCode", cli: .openCode)
            Spacer()
        }
    }

    private func filterChip(label: String, cli: CliTypeFFI?) -> some View {
        let isSelected = selectedCli == cli
        return Button {
            withAnimation(.easeInOut(duration: 0.2)) {
                selectedCli = cli
            }
        } label: {
            Text(label)
                .font(.caption.weight(.medium))
                .padding(.horizontal, 10)
                .padding(.vertical, 4)
                .background(
                    isSelected
                        ? Color.accentColor.opacity(0.15)
                        : Color.clear,
                    in: Capsule()
                )
                .foregroundStyle(isSelected ? .primary : .secondary)
        }
        .buttonStyle(.plain)
    }

    private func projectDisplayName(_ path: String) -> String {
        URL(fileURLWithPath: path).lastPathComponent
    }
}
```

**Specs:**
- Filter bar: horizontal stack of pill buttons, 6pt spacing
- Filter chips: `.caption.weight(.medium)`, 10pt horizontal / 4pt vertical padding
- Selected chip: accent color at 15% opacity background, primary text
- Unselected chip: clear background, secondary text
- Filter animation: `.easeInOut(duration: 0.2)`
- Filter bar padding: 12pt horizontal, 8pt vertical
- Divider between filter bar and list
- Project grouping: folder icon + project name (last path component) + count badge
- Section header matches ContractListView section header style exactly
- List style: `.sidebar`

---

## 6. MenuBarView

The popover shown when clicking the menu bar icon. Max 360pt wide, 500pt tall. Shows only items needing attention.

```swift
struct MenuBarView: View {
    @Environment(SteadAppState.self) private var state
    @Environment(\.openWindow) private var openWindow

    var body: some View {
        VStack(alignment: .leading, spacing: 0) {
            if state.attentionCount == 0 && state.running.isEmpty {
                emptyState
            } else {
                ScrollView {
                    VStack(alignment: .leading, spacing: 0) {
                        // Needs Decision
                        if !state.needsDecision.isEmpty {
                            popoverSection(
                                title: "NEEDS DECISION",
                                count: state.needsDecision.count,
                                tint: .red
                            ) {
                                ForEach(state.needsDecision) { contract in
                                    PopoverContractRow(contract: contract)
                                }
                            }
                        }

                        // Completed
                        if !state.completed.isEmpty {
                            popoverSection(
                                title: "COMPLETED",
                                count: state.completed.count,
                                tint: .green
                            ) {
                                ForEach(state.completed) { contract in
                                    PopoverContractRow(contract: contract)
                                }
                            }
                        }

                        // Running + Queued as counts only
                        if !state.running.isEmpty || !state.queued.isEmpty {
                            HStack(spacing: 16) {
                                if !state.running.isEmpty {
                                    countLabel(
                                        "RUNNING",
                                        count: state.running.count,
                                        color: .secondary
                                    )
                                }
                                if !state.queued.isEmpty {
                                    countLabel(
                                        "QUEUED",
                                        count: state.queued.count,
                                        color: .secondary
                                    )
                                }
                            }
                            .padding(.horizontal, 16)
                            .padding(.vertical, 12)
                        }
                    }
                }
                .frame(maxHeight: 400)
            }

            Divider()

            // Footer
            Button {
                openWindow(id: "control-room")
            } label: {
                HStack {
                    Text("Open Control Room")
                        .font(.body)
                    Spacer()
                    Text("⌘⇧S")
                        .font(.caption)
                        .foregroundStyle(.tertiary)
                }
                .padding(.horizontal, 16)
                .padding(.vertical, 10)
                .contentShape(Rectangle())
            }
            .buttonStyle(.plain)
        }
        .frame(width: 360)
    }

    // MARK: - Empty State

    private var emptyState: some View {
        VStack(spacing: 8) {
            Image(systemName: "checkmark.circle")
                .font(.system(size: 24))
                .foregroundStyle(.green)

            Text("All clear.")
                .font(.body)
                .foregroundStyle(.secondary)
        }
        .frame(maxWidth: .infinity)
        .padding(.vertical, 32)
    }

    // MARK: - Section Builder

    @ViewBuilder
    private func popoverSection<Content: View>(
        title: String,
        count: Int,
        tint: Color,
        @ViewBuilder content: () -> Content
    ) -> some View {
        VStack(alignment: .leading, spacing: 0) {
            // Section header
            HStack(spacing: 6) {
                Text(title)
                    .font(.caption.weight(.semibold))
                    .foregroundStyle(.secondary)
                    .tracking(0.5)

                Text("\(count)")
                    .font(.caption.weight(.bold))
                    .foregroundStyle(tint)
            }
            .padding(.horizontal, 16)
            .padding(.top, 12)
            .padding(.bottom, 6)

            content()
        }
    }

    private func countLabel(_ title: String, count: Int, color: Color) -> some View {
        HStack(spacing: 4) {
            Text(title)
                .font(.caption.weight(.semibold))
                .foregroundStyle(.secondary)
                .tracking(0.5)

            Text("\(count)")
                .font(.caption.weight(.bold))
                .foregroundStyle(color)
        }
    }
}

// MARK: - Popover Contract Row (Compact)

struct PopoverContractRow: View {
    let contract: ContractSummary

    var body: some View {
        HStack(spacing: 8) {
            Circle()
                .fill(contract.status.color)
                .frame(width: 6, height: 6)

            VStack(alignment: .leading, spacing: 1) {
                Text(contract.task)
                    .font(.body)
                    .foregroundStyle(.primary)
                    .lineLimit(1)

                HStack(spacing: 4) {
                    if let project = contract.projectName {
                        Text(project)
                            .foregroundStyle(.secondary)
                    }
                    Text("·")
                        .foregroundStyle(.tertiary)
                    Text(contract.relativeTime)
                        .foregroundStyle(.tertiary)
                }
                .font(.caption)
            }

            Spacer(minLength: 0)
        }
        .padding(.horizontal, 16)
        .padding(.vertical, 6)
        .contentShape(Rectangle())
        .background {
            Color.primary.opacity(0.001) // Invisible but captures hover
        }
    }
}
```

**Specs:**
- Popover width: 360pt fixed
- Scroll area max height: 400pt (leaves room for footer within 500pt popover max)
- Section header: `.caption.weight(.semibold)`, secondary color, 0.5pt letter tracking (uppercase labels)
- Section header padding: 16pt horizontal, 12pt top, 6pt bottom
- Popover row: 6pt colored dot (not full icon), `.body` task text, `.caption` metadata
- Popover row padding: 16pt horizontal, 6pt vertical
- Popover row text spacing: 1pt between lines (tighter than card)
- Running/Queued: counts only, no detail rows. 16pt spacing between count groups.
- Empty state: green checkmark at 24pt, "All clear." in `.body` secondary, 32pt vertical padding
- Footer: full-width button, 16pt horizontal / 10pt vertical padding
- Keyboard shortcut hint: `.caption`, tertiary

---

## 7. AttentionIndicator

Menu bar icon that changes based on pending items.

```swift
struct AttentionIndicator: View {
    @Environment(SteadAppState.self) private var state
    @State private var pulseScale: CGFloat = 1.0

    var body: some View {
        ZStack(alignment: .topTrailing) {
            // Base icon
            Image(systemName: iconName)
                .symbolRenderingMode(.hierarchical)
                .foregroundStyle(iconColor)

            // Badge count
            if state.attentionCount > 0 {
                Text("\(state.attentionCount)")
                    .font(.system(size: 8, weight: .bold))
                    .foregroundStyle(.white)
                    .padding(.horizontal, 3)
                    .frame(minWidth: 14, minHeight: 14)
                    .background(Color.red, in: Capsule())
                    .offset(x: 6, y: -4)
                    .transition(.scale.combined(with: .opacity))
            }
        }
        .animation(.easeOut(duration: 0.25), value: state.attentionCount)
        .onChange(of: state.hasDecisions) {
            if state.hasDecisions {
                withAnimation(.easeOut(duration: 0.15)) {
                    pulseScale = 1.2
                }
                withAnimation(.easeOut(duration: 0.15).delay(0.15)) {
                    pulseScale = 1.0
                }
            }
        }
        .scaleEffect(pulseScale)
    }

    private var iconName: String {
        if state.focusModeEnabled {
            return "circle.circle.fill" // Filled = focus mode
        }
        return state.hasDecisions
            ? "circle.circle.fill"     // Filled = demands attention
            : "circle.circle"          // Outline = normal

    }

    private var iconColor: Color {
        if state.focusModeEnabled {
            return .secondary
        }
        return state.hasDecisions ? .red : .primary
    }
}
```

**Integration with `MenuBarExtra`:**

```swift
@main
struct SteadApp: App {
    @State private var appState = SteadAppState()

    var body: some Scene {
        // Menu bar popover
        MenuBarExtra {
            MenuBarView()
                .environment(appState)
        } label: {
            AttentionIndicator()
                .environment(appState)
        }
        .menuBarExtraStyle(.window)

        // Full window
        Window("Control Room", id: "control-room") {
            ControlRoomWindow()
                .environment(appState)
        }
        .keyboardShortcut("s", modifiers: [.command, .shift])
    }
}
```

**Specs:**
- Icon: `circle.circle` (normal), `circle.circle.fill` (has decisions or focus mode)
- Icon color: `.primary` (normal), `.red` (has decisions), `.secondary` (focus mode)
- Symbol rendering: `.hierarchical`
- Badge: 8pt bold white text on red capsule, 14pt minimum size, 3pt horizontal padding
- Badge offset: x: 6, y: -4 (top-right overhang)
- Badge transition: scale + opacity combined
- Badge animation: `.easeOut(duration: 0.25)` on count change
- Pulse on new decision: scale 1.0 -> 1.2 -> 1.0, 0.15s each half
- MenuBarExtra style: `.window` (popover, not menu)
- Global shortcut: `⌘⇧S` for full window

---

## Full Window Composition

How the full window assembles the components above.

```swift
struct ControlRoomWindow: View {
    @Environment(SteadAppState.self) private var state
    @State private var selectedTab: Tab = .contracts

    enum Tab: String, CaseIterable {
        case contracts = "Contracts"
        case sessions = "Sessions"
    }

    var body: some View {
        VStack(spacing: 0) {
            // Tab picker in toolbar area
            content
        }
        .toolbar {
            ToolbarItem(placement: .principal) {
                Picker("View", selection: $selectedTab) {
                    ForEach(Tab.allCases, id: \.self) { tab in
                        Text(tab.rawValue).tag(tab)
                    }
                }
                .pickerStyle(.segmented)
                .frame(width: 200)
            }
        }
        .frame(minWidth: 480, idealWidth: 640, minHeight: 400, idealHeight: 600)
    }

    @ViewBuilder
    private var content: some View {
        switch selectedTab {
        case .contracts:
            ContractListView()
        case .sessions:
            SessionListView()
        }
    }
}
```

**Specs:**
- Tab picker: `.segmented` style in toolbar `.principal` placement, 200pt width
- Window: min 480x400, ideal 640x600
- No sidebar in MVP -- single column with segmented control to switch views
- Content fills available space below toolbar

---

## Shared Constants

```swift
enum SteadSpacing {
    static let xxs: CGFloat = 2
    static let xs: CGFloat = 4
    static let sm: CGFloat = 8
    static let md: CGFloat = 12
    static let lg: CGFloat = 16
    static let xl: CGFloat = 24
    static let xxl: CGFloat = 32
}
```

All spacing values above use the design language 4pt base unit. The named constants are provided for reference -- the component code uses literal values for readability in specs.

---

## Animation Reference

| Event | Code | Duration |
|-------|------|----------|
| Status icon pulse | `.scaleEffect(1.15)` + `.easeOut(duration: 0.3)` | 300ms |
| Contract moves groups | `.spring(response: 0.35, dampingFraction: 0.85)` | ~350ms |
| New contract appears | `.opacity` + `.move(edge: .top)` | 250ms (spring) |
| Contract dismissed | `.opacity` + `.move(edge: .leading)` | 200ms (spring) |
| Filter chip selection | `.easeInOut(duration: 0.2)` | 200ms |
| Badge count change | `.easeOut(duration: 0.25)` | 250ms |
| Menu bar pulse | `.easeOut(duration: 0.15)` x2 | 300ms total |

---

## Accessibility

All components support:
- **VoiceOver**: `accessibilityLabel` on rows includes tier, project, task, time
- **Dynamic Type**: all fonts use semantic sizing (`.body`, `.caption`)
- **Reduce Motion**: check `@Environment(\.accessibilityReduceMotion)` and skip scale/move animations, use opacity only
- **Differentiate Without Color**: SF Symbols change shape per state (not just color)
- **Keyboard navigation**: standard List selection, Enter to expand, Escape to dismiss

```swift
// Example: accessibility on ContractCard
.accessibilityElement(children: .combine)
.accessibilityLabel("\(contract.status.label): \(contract.task), \(contract.projectName ?? ""), \(contract.relativeTime)")
.accessibilityHint("Double tap to view details")
```
